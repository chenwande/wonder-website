"use strict";(self.webpackChunkwonder=self.webpackChunkwonder||[]).push([[433],{26878:function(M,u,e){e.r(u);var v=e(75271),o=e(74908),g=e(52676),c=function(){return(0,v.useEffect)(function(){var _=document.getElementById("canvas-demo");_.width=devicePixelRatio*_.clientWidth,_.height=devicePixelRatio*500;var i=_.getContext("2d");new o.Graph(i,_)},[]),(0,g.jsx)("canvas",{id:"canvas-demo",style:{width:"100%",height:"100%",backgroundColor:"#222"}})};u.default=c},30048:function(M,u,e){e.r(u);var v=e(90228),o=e.n(v),g=e(87999),c=e.n(g),d=e(48305),_=e.n(d),i=e(75271),s=e(63120),n=e(52676),t=function(){var a=(0,i.useState)(!1),r=_()(a,2),m=r[0],f=r[1],E=(0,i.useState)([]),D=_()(E,2),y=D[0],T=D[1],U=(0,i.useState)(),C=_()(U,2),b=C[0],W=C[1],R=function(){var x=c()(o()().mark(function w(p){var P,O;return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(p.target.files){h.next=2;break}return h.abrupt("return");case 2:if(f(!0),P=(0,s.createFileChunks)(p.target.files[0]),!window.Worker){h.next=10;break}return h.next=7,(0,s.getFileHashByWebWorker)(P).finally(function(){return f(!1)});case 7:h.t0=h.sent,h.next=13;break;case 10:return h.next=12,(0,s.getFileHash)(P).finally(function(){return f(!1)});case 12:h.t0=h.sent;case 13:O=h.t0,T(P),W(O);case 16:case"end":return h.stop()}},w)}));return function(p){return x.apply(this,arguments)}}();return console.log("fileHash",b),console.log("fileChunks",y),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"file",onChange:R}),(0,n.jsx)("div",{children:m?"\u6B63\u5728\u8BA1\u7B97\u6587\u4EF6hash":"hash\uFF1A"+(b||"-")})]})};u.default=t},74908:function(M,u,e){e.r(u),e.d(u,{Graph:function(){return i},Point:function(){return _},getRandom:function(){return d}});var v=e(25298),o=e.n(v),g=e(17069),c=e.n(g),d=function(n,t){return Math.random()*(t-n)+n},_=function(){function s(n,t){o()(this,s),this.ctx=n,this.canvas=t,this.r=4,this.x=d(0,t.width-this.r/2),this.y=d(0,t.height-this.r/2),this.xSpeed=d(-50,50),this.ySpeed=d(-50,50),this.lastDrawTime=null}return c()(s,[{key:"draw",value:function(){if(!this.lastDrawTime)this.lastDrawTime=Date.now();else{var t=Date.now(),l=(t-this.lastDrawTime)/1e3,a=this.x+this.xSpeed*l,r=this.y+this.ySpeed*l;a<0?(a=0,this.xSpeed=-this.xSpeed):a>this.canvas.width-this.r/2&&(a=this.canvas.width-this.r/2,this.xSpeed=-this.xSpeed),r<0?(r=0,this.ySpeed=-this.ySpeed):r>this.canvas.height-this.r/2&&(r=this.canvas.height-this.r/2,this.ySpeed=-this.ySpeed),this.x=a,this.y=r,this.lastDrawTime=t}this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,Math.PI*2),this.ctx.fillStyle="rgb(200, 200, 200)",this.ctx.fill()}}]),s}(),i=function(){function s(n,t){var l=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:40,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:300;o()(this,s),this.canvas=t,this.ctx=n,this.points=Array(a).fill(0).map(function(){return new _(l.ctx,l.canvas)}),this.maxDistance=r,this.draw()}return c()(s,[{key:"draw",value:function(){var t=this;requestAnimationFrame(function(){t.draw()}),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var l=0;l<this.points.length;l++){var a=this.points[l];a.draw();for(var r=l+1;r<this.points.length;r++){var m=this.points[r],f=Math.sqrt(Math.pow(a.x-m.x,2)+Math.pow(a.y-m.y,2)),E=1-f/this.maxDistance;this.ctx.beginPath(),this.ctx.moveTo(a.x,a.y),this.ctx.lineTo(m.x,m.y),this.ctx.strokeStyle="rgba(200, 200, 200, ".concat(E,")"),this.ctx.stroke()}}}}]),s}()},63120:function(M,u,e){e.r(u),e.d(u,{createFileChunks:function(){return g},getFileHash:function(){return c},getFileHashByWebWorker:function(){return d}});var v=e(34847),o=e.n(v),g=function(i){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10485760,n=[],t=0;t<i.size;t+=s)n.push(i.slice(t,t+s));return n},c=function(i){return new Promise(function(s){var n=new(o()),t=function l(a){if(a>=i.length){s(n.end());return}var r=i[a],m=new FileReader;m.onload=function(f){var E;if((E=f.target)!==null&&E!==void 0&&E.result){var D=f.target.result;n.append(D),l(a+1)}},m.readAsArrayBuffer(r)};t(0)})},d=function(i){return new Promise(function(s){var n=new Worker(new URL(e.p+e.u(27),e.b),{type:void 0});n.postMessage({chunks:i}),n.onmessage=function(t){s(t.data)}})}}}]);
